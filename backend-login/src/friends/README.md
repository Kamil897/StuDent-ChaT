# Система Друзей

## Описание
Система друзей позволяет пользователям добавлять друг друга в друзья, отправлять заявки и управлять списком друзей.

## Модели данных

### Friend
- `id` - уникальный идентификатор
- `userId` - ID пользователя, отправляющего заявку
- `friendId` - ID пользователя, получающего заявку
- `status` - статус: "pending", "accepted", "blocked"
- `createdAt` - дата создания заявки

## API Endpoints

### POST /friends/add
Отправить заявку в друзья
```json
{
  "friendId": 123
}
```

### POST /friends/accept
Принять заявку в друзья
```json
{
  "friendId": 123
}
```

### GET /friends
Получить список друзей текущего пользователя

### GET /friends/:id
Получить список друзей пользователя по ID

### GET /friends/pending/requests
Получить входящие заявки в друзья

### POST /friends/remove
Удалить из друзей
```json
{
  "friendId": 123
}
```

### POST /friends/block
Заблокировать пользователя
```json
{
  "friendId": 123
}
```

## Статусы дружбы

- **pending** - заявка отправлена, ожидает ответа
- **accepted** - заявка принята, пользователи друзья
- **blocked** - пользователь заблокирован

## Логика работы

1. **Отправка заявки**: Пользователь A отправляет заявку пользователю B
2. **Принятие заявки**: Пользователь B принимает заявку от пользователя A
3. **Статус друзья**: Оба пользователя видят друг друга в списке друзей
4. **Удаление**: Любой из друзей может удалить другого из списка
5. **Блокировка**: Пользователь может заблокировать другого пользователя

## Интеграция с чатом

Только друзья могут отправлять друг другу сообщения. Система автоматически проверяет статус дружбы при отправке сообщений.

## Интеграция с играми

Система друзей интегрирована с играми для:
- Отображения друзей в лидербордах
- Сравнения результатов
- Отправки уведомлений о достижениях друзей




